[x] Carga de menu con fotos
[x] Visualizacion de menu correctamente por tipo
[x] Crear exclusiones para el check de privilegios dependiendo la ruta en la que estoy, como por ej acceso-denegado
[x] Login restaurante 
[x] Registro restaurante
[x] Limpiar inputs (Agregar stock, agregar menu)
[x] Poder eliminar imagen (Agregar menu)
[x] Asignar la ruta estatica al menu
[x] Ver que se carguen bien las medidas de el los ingredientes
[x] Ver que se chequee el stock antes de un pedido
[x] Recibir el pedido entrante
[x] Aceptar pedido y recibirlo en la cocina
[x] Pagina de pedidos cliente
[x] Mostrar tiempo
[x] Aceptar entrega del menu
[x] Cifrar domicilio
[x] Limpiar carrito después de una compra
[x] Mejorar la toma de privilegios para no estar haciendo mil llamadas a la db
[x] Arreglar  privilegios en caso de tener el mismo correo tanto en restaurante como en cliente (Puedo ser empleado y trabajador queriendo encargar comida)
[x] Crear los DTOS para enviar los datos necesarios desde la api y no todos
[x] Probar el plugin Toaster Sonner para los mensajes en pantalla buenardos
[x] Input con lista de posibles resultados debajo
[x] Solicitar localidad, provincia al pedir domicilio
[x] Probar envio de correos
[x] Probar envio de la factura como pdf al correo
[x] Carga de provincias y localidades de argentina
[x] Opcion para seleccionar que localidades abarcaria el local, para asi cargar la db con los datos de esa provincia y no de todo el pais
[x] Cambio de select a input con resultados
[x] Validaciones echas
[x] Arreglar muestra de errores y devolucion de mensajes desde el server (ej base EditarCategoria)
[x] Crear modal para mostrar opciones extra al interactuar con las opciones
[x] Acomodar mensajes de los toast que se devuelven del back, ej base loginRestaurante.tsx
[x] Agregar como medidas paquetes x3,x6,x10,x12 unidades
[x] Crear empresas
[x] Crear categorias y subs
[x] Crear unidad de medida
[x] Crear subcategorias predeterminadas
[x] Asignar subcategorias predeterminadas al cargar una sucursal nueva
[x] Muestra sin repetidas de subcategorias por cada categoria existente al crear, editar o borrar.
[x] Que se genere la factura al entregarlo.
[x] Mercadopago
[x] Cancelacion de pedido
[x] Avisar que el menu está en traslado junto con el envio de la factura
[x] Mostrar productos solo si hay stock
[x] Boton en pedidos del cliente para poder repetir un pedido anterior
[x] Arreglar login del cliente para que no cree usuarios con el mismo mail
[x] Calcular tiempo de entrega de un menu al realizar un pedido
[x] Descontar stock al comprar
[x] Precio sugerido segun ingredientes y los costos
[x] Mostrar ingredientes de cada menu en cocina
[x] Revisar que los inputs que se muestran con informacion de la db(los editar mas que nada) muestren arriba de cada input de que valor es la info dentro del input (label o algo)
[x] Arreglar eso de que cuando cambias de paso en el modal se borra lo del anterior (hay que poner los values en cada input del atributo que ocupan)
[x] Mostrar cartel una vez se carga un articulo venta o un ingrediente de si el usuario quiere añadir stock del mismo
[x] Mostrar paises al seleccionar domicilio
[x] Pasar de pago a pedido pendientes del cliente
[x] Mostrar lista de fecha de stock, en lo que seria el stock actual mostrar la fecha próxima pero a parte mostrar una lista con todos los detalles stock y su fecha
[x] Mostrar categorias solo si hay productos con stock que la completen
[x] Arregla el tema de añadir varios domicilios con los inputs que se van a repetir y cambiar en caso de ser varios domicilios(inputProvincia e inputDepartamento) hacer un handle domicilio para asignar esos al domicilio creado
[x] Revisar el muestreo de fechas al crear promocion porque con el value se va a romper, stockEntrante tambien, loginCliente tambien (STOCK ENTRANTE EJ FUNCIONAL) 
[x] Que el modal de recomendaciones no muestre alguna de las opciones si ya esta seleccionada en un input previo, por ej si ya seleccione el ingrediente 'carne' que al poner otro no muestre este como recomendacion
[x] Modal con checkboxs para elegir sucursales, provincias, etc (Promocion necesita sucursales)
[x] Validar que no se pueda pedir nada fuera del horario de atencion de la sucursal
[x] Control de provincia en caso de no haber sucursal ahi avisar una vez que se crea el cliente o cuando se intenta agregar un producto al carrito, anular la posibilidad de pedir algo
[x] Mejorar el suspense del appRoutes
[x] Crear roles de empleados
[x] Terminar de configurar la direccion del mail en Java para que sea automatica dependiendo de la sucursal que lo envia usando su email
[x] Poner tipo de date para promociones con seleccion de horario ademas del dia
[x] Revisar la carga de subcategorias
[x] Paginacion de todos los mostrables (categorias, stocks, productos para mostrar pocos)
[x] Lógica para que cuando abra una sucursal como admin se muestre un boton para volver al estado de admin, algo con los privilegios
[x] Iniciar en admin-control si sos admin o iniciar en /opciones si sos sucursal al loguearte
[x] Arreglar los permisos de pedidos a entrantes, en camino, etc y poder aceptar o rechazar dependiendo el empleado
[x] Pantalla que el día de llegada de stock muestre todos los ingredientes a recibir, con un boton que marque como recibido o no recibido para sumar al stock actual
[x] Si soy admin poder elegir dentro de una empresa en que sucursales quiero cargarlo
[x] Filtro de lugares al cargar la sucursal para las localidadesDelivery para buscar por nombre de la localidad
[] Si llegamos mostrar recetas de los menus
CERRAR MODALS AL CREAR COSAS[x]
NO PODER CARGAR SUBCATEGORIAS POR EL BUG DE CATEGORIAS[x]
CUANDO AÑADIS INGREDIENTES AL MENU, TE DEBERIA TRAER DIRECTAMENTE SU MEDIDA[x] 
COSTO STOCK ENTRANTE ARTICULO BUG[x]
BUG EN CATEGORIAS Y SUBCATEGORIAS JAJAJAJ A VECES LAS TRAE, OTRAS NO, BUG[x]
ERROR AL CREAR Y MOSTRAR SUCURSALES[x]
ESTA BUG LO DE LA FECHA DE LAS PROMOCIONES[x]
ERROR AL MOSTRAR EMPLEADOS EN OPCIONES EMPLEADOS[x]
EL CARRITO CON LAS PROMOCIONES NO ANDA, OSEA ANDA PERO TE CARGA TODO[x]
[x] Ajustar el horario estimado
[x] Cascade en articuloVenta.
[x] Agregar imagenes al empleado
ERROR AL CARGAR EMPRESA[x]
NO ANDA EDITAR EMPRESA[x]
[x] Error 500 al cargar empleado.
[x] Editar empleado se rompe al pasar al paso 3 de roles.
[x] AGREGAR PRECIO UNITARIO DE CADA PRODUCTO. AHORA SOLO TIENE SUBTOTAL PERO ADEMAS TIENE QUE TENER EL UNITARIO Y EL TOTAL DE LA COMPRA
[x] Hacer andar filtros de Opciones. QUE FILTROS?
[x] No anda en lo de editar, borrar las imágenes. Te añade una y otra y otra.
[x] No me deja agregar stock de ingredientes desde Stock. Stock inexistente.
[x] Cuando quiero agregar stock de articulo desde Articulo, me trae la unidad de medida de venta y no me deja cambiarla. ME ANDA BIEN
[x] No me deja agregar stock de artículos desde Stock. Stock ya existe.
[x] Eliminas un stock y se elimina cualquiera, no el que seleccionaste.
[x] Si editas, pero no tocas la unidad de medida, te pone cualquiera por defecto. NO ENCONTRE ESTE ERROR, ME ANDA NASHE
[x] La fecha te muestra el día siguiente al actual pero sigue tomando la fecha actual, por ende no te deja avanzar porque la fecha debe ser posterior.
[x] Cuando quiero agregar un articulo, siempre me trae la unidad de medida de venta, por ejemplo LITROS de Coca.. y el stock se mide en unidades.
[x] Si seleccionas un ingrediente, pero borras ese stock entrante y queres añadir otro, ese ingrediente que elegiste ya no aparece en el filtrado.
[x] Se rompe la fecha con el ToISO en Editar, pero de andar, anda.
[x] Faltaría agregar la función de Marcar como entregado.
[x] Al seleccionar un producto para añadir, debería traer su unidad de medida del stock, porque una equivocación de unidad de medida, rompería el sistema. QUE DECIS FANTASMA 
[x] Al agregar menú, te pone cualquier categoría y subcategoria si no le añadis ninguna.
[x] No me deja añadir categoría. Error.
[x] Solo deja eliminar una imagen a la vez, del slider, al editar.
[x] Se rompen los filtros al editar articulo. No deja seleccionar otros.
[x] Se rompe y no deja crear el articulo si te metes a agregar stock pero te salis porque no queres agregar.
[x] Editar el perfil del header para que si sos empleado o negocio no te muestre las mismas opciones que al cliente, por ej en vez de domicilios que haya una opcion de ir a opciones xd
carrito: NO ME DESCUENTA LAS CANTIDADES.[x]
[x] EN LOS MODALES DE RECOMENDACION, HABRIA QUE PONER UNA OPCION DE SACAR LA OPCION SELECCIONADA, SI POR EJ ELIJO QUESO EQUIVOCADAMENTE Y NO TENGO OTROS INGREDIENTES NO PUEDO BORRARLO
[x] Filtrar sucursales por provincia antes de buscarlas, para no traer todas
[x] Si elijo COCINERO, cargarle previamente los permisos logicos que tendrian para que ya esten marcados en el paso siguiente
[x] Hacer andar el input de busqueda de productos en ambos headers
[x] Permitir como email y cuit, al ingresar cuit dice que es un formato erroneo de email
[x] No te debería dejar cargar más stock del máximo que permite ese producto. Agregar un modal que consulte si queremos cambiar el stock máximo al que estamos añadiendo, para ahorrar tiempos.
[x] Validar que el botón de agregar te tome un solo click, porque me añadió dos veces al hacer click dos veces sin querer.
[x] VER SI SE PUEDE PEDIR FUERA DEL HORARIO DE ATENCION y 
[x] que si ya hice un pedido no me deje pedir si no ha pasado un minuto (Te deja pedir hasta 3 cosas por hora)
[x] FILTRO POR ID ●	Vista de pedidos: el usuario que tenga el rol de “cajero” (a partir de ahora: el cajero) se encarga de gestionar el estado de todos 
    los pedidos en general, por lo cual habrá una pantalla con el listado de todos los pedidos, los cuales se podrán filtran según su estado 
    (por ejemplo, mediante un combobox) y también se podrán buscar mediante su id (mediante un cuadro de búsqueda).
    [x] Si un usuario está dado de baja en el sistema, no podrá hacer pedidos.
    [x] Acomodar el regex de la calle, si pongo 25 de mayo me da error
    [x] Ordenar la tabla por fecha ascendente.
    [x] Faltan agregar y editar.
    ERROR AL SELECCIONAR SUCURSAL[x] 
    [x] Al añadir un ingrediente más su stock, no deja eliminarlo ni editarlo.
    [x] Al editar un ingrediente desactivado, se edita y se activa.
    [x] Ver la suma de precio sugerido
    [x] Se duplican los ingredientes actuales al editar el menú.

[] Cambiar los inputs number a text, validar que son number y parsearlos antes de asignarlos al objeto porque loss type number se cogen si borras todos los caracteres
[] Costo recomendado de articulos por sucursal
[] Configurar rutas privadas
[] Arreglar inputs de filtrado, te toman cualquier cosa al azar si no seleccionas nada.
[] El editar menú no borra los ingredientes.

notFound; REVISAR ESTE TSX QUE TA RARO EL HEADER: esta en pages

sucursales/ Pagina

header
[AYUDA] Si como sucursal tocas en pedidos que te lleve a opciones con pedidos entrantes abierto AYUDA HICE ANDARLO PERO SE COJE EL LOGO

Login
[] Hacer la recuperacion de contraseña

PDFS
[] Arreglar el diseño de los pdfs

Permisos: 

PEDIDOS FALTA PROBAR:

HORARIOS: 

COMPRA:

CLIENTE:
[] HACER TODO LO DEL PERFIL DEL CLIENTE Y LOS DOMICILIOS

CARRITO:

MODALES:
[] Añadir botones de agregar el objeto en todos los modales de recomendacion, para no tener que cerrar y abrir y volver, manso viaje

OPCIONES:

CATEGORÍA:

EMPLEADOS:
[] Hay que pasar el CUIL a string, asi poder usar sus '-'.
[] Acomodar los privilegios del editar empleado que se ven como taban original sin los cuadrados

STOCK:
[] MARCAR LOS PRODUCTOS QUE ESTAN POR DEBAJO DEL STOCK MINIMO CON ALGUN COLOR Y ALGUN TOAST que avise que queda poco

STOCK ENTRANTE:
[] Filtros de fechas. Filtrar entre 2 fechas.

MENÚ:

ARTÍCULOS:

INGREDIENTES:

MENÚS:

PRIVILEGIOS:

PROMOCIONES:
[] No deja cargar promoción si no hay menú. 
[] Error al editar la promoción.
[] Si la promoción aun no ha empezado, no debería mostrarse hasta que comienze y luego ocultarse cuando termine y eliminarse automáticamente.
[] Arreglar los filtros de fechas en este y en stock entrante.

SUCURSALES:
[] Deja avanzar sin seleccionar país, provincia, depto. o localidad.
[] Agregar un marcar todo para cuando seleccionar lugares para delivery.
[] Error al cargar sucursal. Credenciales invalidas.

PAGO:
[] No me trae los domicilios pal delivery.


SE BUGEAN LOS FILTROS AL CARGAR PROMOCION PERO SE CARGAN BIEN[]
TERMINAR REPORTES[]
ARREGLAR PREFERENCIAS DE EMPLEADO[]
EL HOME SE ROMPE Y NO TRAE A VECES LAS PROMOCIONES Y LAS CATEGORIAS[]
SucursalCards: FALTA VALIDACIONES Y RUTAPRIVADA. []
Footer: BUG, MUESTRA SUCURSAL VACIA.[]
pago: NO TE DEBE DEJAR ENTRAR SI NO ESTAS LOGUEADO. ARREGLAR MODAL DE SALIDA.[] RUTAS PRIVADA EVITA ESTO :D
loginCliente: FALTA HACER VALIDAR LA RECUPERACION DE LA CONTRASEÑA. FALTA VALIDAR INGRESO CON GMAIL. FALTAN VALIDACIONES A LOS INPUTS.[]
loginNegocio: FALTA VALIDAR EN EL RECUPERO DE CONTRA, QUE EL CORREO SEA CORRECTO Y ESTE DENTRO DE LA BASE DE DATOS.[]
opcionesCliente: FALTA MOSTRAR DOMICILIOS DEL USUARIO Y VALIDAR CAMBIOS DE LA CUENTA EN LA BASE DE DATOS.[]
opciones: VALIDACIONES Y TOAST. FILTROS DE LAS TABLAS. RESPONSIVE.[]
homePage: IMAGENES A LAS CATEGORIAS.[]

Pruebas
[x] Carga empresa [] Probar validación
[x] Actualizacion empresa [x] Probar validación
[x] Eliminacion empresa
[x] Activacion empresa 
[] Validaciones completas (emails sean mails, numeros sean numeros, largo sea largo)

[x] Carga sucursal [x] Probar validación
[x] Actualizacion sucursal [x] Probar validación
[x] Eliminacion sucursal
[x] Activacion sucursal 
[] Validaciones completas (emails sean mails, numeros sean numeros, largo sea largo)

[x] Carga empleado [x] Probar validación
[x] Actualizacion empleado [x] Probar validación
[x] Eliminacion empleado
[x] Activacion empleado
[] Validaciones completas (emails sean mails, numeros sean numeros, largo sea largo)

[] Carga cliente [] Probar validación
[] Actualizacion cliente [] Probar validación
[] Eliminacion cliente
[] Activacion articuloMenu
[] Validaciones completas (emails sean mails, numeros sean numeros, largo sea largo)

[x] Muestra articuloMenu
[X] Carga articuloMenu [X] Probar validación
[X] Actualizacion articuloMenu [X] Probar validación
[X] Eliminacion articuloMenu
[X] Activacion articuloMenu
[] Validaciones completas (emails sean mails, numeros sean numeros, largo sea largo)

[] Muestra articuloVenta
[x] Carga articuloVenta [x] Probar validación
[x] Actualizacion articuloVenta[x] Probar validación
[x] Eliminacion articuloVenta
[x] Activacion articuloVenta
[] Validaciones completas (emails sean mails, numeros sean numeros, largo sea largo)

[x] Carga stockIngrediente [x] Probar validación
[x] Actualizacion stockIngrediente [x] Probar validación
[x] Eliminacion stockIngrediente
[x] Activacion stockIngrediente
[] Validaciones completas (emails sean mails, numeros sean numeros, largo sea largo)

[x] Carga stockArticulo [] Probar validación
[x] Actualizacion stockArticulo [] Probar validación
[x] Eliminacion stockArticulo 
[x] Activacion stockArticulo
[] Validaciones completas (emails sean mails, numeros sean numeros, largo sea largo)

[x] Carga pedido stock [] Probar validación
[x] Actualizacion pedido stock [] Probar validación
[x] Eliminacion pedido stock
[x] Activacion pedido stock
[] Validaciones completas (emails sean mails, numeros sean numeros, largo sea largo)

[X] Carga medida [x] Probar validación
[x] Actualizacionmedidda [x] Probar validación
[x] Eliminacion medidda
[x] Activacion medidda
[x] Validaciones completas (emails sean mails, numeros sean numeros, largo sea largo)

[x] Carga categorias [x] Probar validación
[x] Actualizacion categorias [x] Probar validación
[x] Eliminacion categorias
[x] Activacion categorias
[] Validaciones completas (emails sean mails, numeros sean numeros, largo sea largo)

[x] Carga subcategorias [x] Probar validación
[x] Actualizacion subcategorias [x] Probar validación
[x] Eliminacion subcategorias
[x] Activacion subcategorias
[] Validaciones completas (emails sean mails, numeros sean numeros, largo sea largo)

[x] Carga ingredientes [x] Probar validación
[x] Actualizacion ingredientes [x] Probar validación
[x] Eliminacion ingredientes
[x] Activacion ingredientes
[] Validaciones completas (emails sean mails, numeros sean numeros, largo sea largo)

[x] Carga promocion [] Probar validación
[x] Actualizacion promocion [] Probar validación
[x] Eliminacion promocion
[x] Activacion promocion
[] Validaciones completas (emails sean mails, numeros sean numeros, largo sea largo)

[] Carga pedido [] Probar validación
[] Actualizacion pedido [] Probar validación
[] Eliminacion pedido
[] Activacion pedido
[] Validaciones completas (emails sean mails, numeros sean numeros, largo sea largo)

[x] Encriptacion y desencriptacion de datos sensibles (contraseñas, nombres, domicilios(calle), telefono)


CONTRASEÑA

[11:18, 9/6/2024] Augusto Ficara: 
const requestPasswordReset = async (email) => {
  const user = await User.findOne({ email });
  if (!user) {
    throw new Error('El usuario no existe');
  }

  // Genera un token único
  const token = crypto.randomBytes(20).toString('hex');
  const resetLink = http://tu-app.com/reset-password/${token};

  // Guarda el token en la base de datos
  user.resetPasswordToken = token;
  user.resetPasswordExpires = Date.now() + 3600000; // 1 hora
  await user.save();

  // Envía el correo
  const mailOptions = {
    to: user.email,
    from: 'tu-email@gmail.com',
    subject: 'Restablecer contraseña',
    text: `Estás recibiendo este correo porque tú (o alguien más) solicitó restablecer la contraseña de tu cuenta.\n\n
           Por favor, haz clic en el siguiente enlace, o pégalo en tu navegador para completar el proceso:\n\n
           ${resetLink}\n\n
           Si no solicitaste esto, ignora este correo y tu contraseña permanecerá sin cambios.\n`,
  };

  await transporter.sendMail(mailOptions);
};
[11:18, 9/6/2024] Augusto Ficara: const express = require('express');
const router = express.Router();
const { requestPasswordReset } = require('../services/authService');

router.post('/forgot-password', async (req, res) => {
  try {
    await requestPasswordReset(req.body.email);
    res.status(200).send('Correo de recuperación enviado');
  } catch (error) {
    res.status(500).send(error.message);
  }
});